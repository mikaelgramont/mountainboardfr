"use strict";var Lib={CARD_ACTION_CLASSES_BLACKLIST_:["linkLeft","linkRight","dataLink","headerCardAction","headerCardActionInMenu","headerCardActionInMenuOnly",],currentMenuDisplayMode_:null,overlayEl_:document.getElementById("overlay"),modalContainerEl_:document.getElementById("modalContainer"),desktopMenuEl_:document.getElementById("catMenu"),mobileMenuEl_:document.getElementById("mobileMenu"),modalContainerEl_:document.getElementsByClassName("modalContent")[0],modalListeners_:{},uuid:function(){function a(){return Math.floor((1+Math.random())*65536).toString(16).substring(1)}return a()+a()+"-"+a()+"-"+a()+"-"+a()+"-"+a()+a()+a()},getAncestor:function(b,a){var c=HTMLElement.prototype.matches||HTMLElement.prototype.webkitMatchesSelector||HTMLElement.prototype.mozMatchesSelector||HTMLElement.prototype.msMatchesSelector;if(c.call(b,"."+a)){return b}if(!b.parentElement){return null}return this.getAncestor(b.parentElement,a)},onHeaderCardMenuClick:function(c){var b=this.getAncestor(c.target,"cardWrapper");var h=b.getElementsByClassName("headerCardActionInMenu");var j=[];for(var f=0,e=h.length;f<e;f++){var n=this.getActionList(h[f]);j=j.concat(n)}var k=document.createElement("ul");k.classList.add("modalList");for(var f=0,e=j.length;f<e;f++){var p=document.createElement("li");var o=document.createElement("a");o.setAttribute("href",j[f].href);o.setAttribute("class",j[f].className);var q=document.createTextNode(j[f].label);o.appendChild(q);p.appendChild(o);k.appendChild(p)}var g="actionMenu";var d=this.getModalContentEl(g);d.innerHTML="";d.appendChild(k);this.showModal(g)},maybeGetAttributesFromElement:function(b){var c=[];if(!b.hasAttribute("href")||b.hasAttribute("aria-hidden")){return c}var a;if(b.hasAttribute("aria-label")){a=b.getAttribute("aria-label")}else{if(b.hasAttribute("title")){a=b.getAttribute("title")}else{a=b.innerText}}if(a.length==0){return c}c.push({href:b.getAttribute("href"),label:a,className:b.className.split(" ").filter(function(d){return this.CARD_ACTION_CLASSES_BLACKLIST_.indexOf(d)==-1},this).join(" ")});return c},getActionList:function(d){if(d.tagName=="A"){return this.maybeGetAttributesFromElement(d)}else{var e=[];var b=d.getElementsByTagName("a");for(var c=0,a=b.length;c<a;c++){e=e.concat(this.maybeGetAttributesFromElement(b[c]))}return e}},getModalContentEl:function(a){return document.getElementById("modalContent-"+a)},showOverlay:function(a){this.currentMenuDisplayMode_=a;this.overlayEl_.classList.add("visible")},hideOverlay:function(){if(this.currentMenuDisplayMode_=="mobileMenu"){this.dismissMobileMenu()}else{if(this.currentMenuDisplayMode_=="modal"){this.dismissModal()}}},setupMenus:function(b){var a=document.getElementById("menuButton");a.addEventListener("click",this.showMobileMenu.bind(this));this.overlayEl_.addEventListener("click",(function(c){if(c.target==this.overlayEl_){this.hideOverlay()}}).bind(this));document.body.addEventListener("keyup",this.onModalKeyPress.bind(this),true);$("#searchButton").bind("click",function(c){document.body.classList.toggle("searchVisible");if(document.body.classList.contains("searchVisible")){$("#searchTerms").focus()}});Lib.Event.listenOnClass("click","category",this.onCategoryClick,this);this.desktopMenuEl_.addEventListener("mouseleave",this.closeMenuDropdowns.bind(this))},onCategoryClick:function(b){this.closeMenuDropdowns();var a=b.target.parentElement;if(a.classList.contains("activeCat")){return}else{if(a.classList.contains("inactiveCat")){b.preventDefault();a.getElementsByTagName("ul")[0].classList.toggle("visible")}}},closeMenuDropdowns:function(f){var b=this.desktopMenuEl_.getElementsByClassName("inactiveCat");for(var c=0,a=b.length;c<a;c++){var d=b[c].getElementsByTagName("ul");if(d&&d[0]){d[0].classList.remove("visible")}}},showMobileMenu:function(){this.showOverlay("mobileMenu");setTimeout((function(){this.mobileMenuEl_.classList.remove("offscreen")}).bind(this),0)},dismissMobileMenu:function(){this.mobileMenuEl_.classList.add("offscreen");setTimeout((function(){this.overlayEl_.classList.remove("visible")}).bind(this),300)},showModal:function(a){this.modalListeners_.closeClick=Lib.Event.listenOnClass("click","closeModal",this.dismissModal,this);if(a){this.showModalContainer_();this.hideModalContentChildren_(this.getModalContentEl(a))}this.showOverlay("modal")},dismissModal:function(){this.hideModalContainer_();this.hideModalContentChildren_();this.overlayEl_.removeEventListener("click",this.dismissModal);Lib.Event.unlistenByKey(this.modalListeners_.closeClick);delete this.modalListeners_.closeClick;document.removeEventListener("keyup",this.onModalKeyPress);setTimeout((function(){this.overlayEl_.classList.remove("visible")}).bind(this),0)},showModalContainer_:function(){this.modalContainerEl_.classList.add("visible")},hideModalContainer_:function(){this.modalContainerEl_.classList.remove("visible")},hideModalContentChildren_:function(d){var b=this.overlayEl_.getElementsByClassName("modalContentItem");for(var c=0,a=b.length;c<a;c++){if(d&&b[c]===d){b[c].classList.add("visible")}else{b[c].classList.remove("visible")}}},onModalKeyPress:function(a){if(a.keyCode==27){this.dismissModal()}},setupPageScrollListener:function(){var g;var c;var e=0;var d="down";var a="visible";var b;var j=document.getElementById("header");var i=20;var h=667;function f(l){var k=window.scrollY;if(k<e){c="up"}else{c="down"}if(c!=d){if(c=="up"){b="visible"}else{if(k>i){b="hidden"}}}else{if(c=="down"&&k>i){b="hidden"}}e=k;d=c;j.classList.toggle("offscreen",b=="hidden")}window.addEventListener("scroll",function(k){if(window.innerWidth>h){j.classList.remove("offscreen");return}if(g){return}g=setTimeout(function(){f(k);g=null},200)})}};